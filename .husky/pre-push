echo "Starting pre-push checks..."

echo "Running lint check..."
npm run lint
if [ $? -ne 0 ]; then
    echo "Lint check failed. Please fix the errors before pushing."
    exit 1
fi

echo "Running build..."
npm run build
if [ $? -ne 0 ]; then
    echo "Build failed. Please fix the errors before pushing."
    exit 1
fi
echo "Running tests..."
npm run test
if [ $? -ne 0 ]; then
    echo "Tests failed. Please fix the errors before pushing."
    exit 1
fi

echo "Staging changes..."
git add .

echo "Pre-commit checks passed. Committing changes."